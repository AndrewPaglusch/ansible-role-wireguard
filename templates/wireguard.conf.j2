[Interface]
Address = {{ wireguard_address }}
PrivateKey = {{ wireguard_private_key }}
ListenPort = {{ wireguard_port }}

{% for item in wireguard_postup | default([]) %}
{% if item.comment | default(false) %}
# {{ item.comment }}
{% endif %}
PostUp = {{ item.command }}
{% endfor %}
{% for item in wireguard_postdown | default([]) %}
{% if item.comment | default(false) %}
# {{ item.comment }}
{% endif %}
PostDown = {{ item.command }}
{% endfor %}

[Peer]
{% if wireguard_peer_endpoint | default(false) %}
Endpoint = {{ wireguard_peer_endpoint }}
{% endif %}
PublicKey = {{ wireguard_peer_public_key }}
AllowedIPs = {{ wireguard_peer_allowed_ips }}
PersistentKeepalive = {{ wireguard_peer_keepalive }}
